Terminal 1 ::




root@protostar:/opt/protostar/bin# ./net2
root@protostar:/opt/protostar/bin# ps aux | grep net2
997       1372  0.0  0.0   1532   272 ?        Ss   11:57   0:00 /opt/protostar/bin/net2
root      1723  0.0  0.0   3300   732 pts/0    S+   12:51   0:00 grep net2
root@protostar:/opt/protostar/bin# killall net2
root@protostar:/opt/protostar/bin# strace ./net2
execve("./net2", ["./net2"], [/* 15 vars */]) = 0
brk(0)                                  = 0x804b000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
mmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7fe0000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=13796, ...}) = 0
mmap2(NULL, 13796, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7fdc000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
open("/lib/libc.so.6", O_RDONLY)        = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\320m\1\0004\0\0\0"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=1319176, ...}) = 0
mmap2(NULL, 1329480, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb7e97000
mprotect(0xb7fd5000, 4096, PROT_NONE)   = 0
mmap2(0xb7fd6000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x13e) = 0xb7fd6000
mmap2(0xb7fd9000, 10568, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb7fd9000
close(3)                                = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7e96000
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7e966c0, limit:1048575, seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, useable:1}) = 0
mprotect(0xb7fd6000, 8192, PROT_READ)   = 0
mprotect(0xb7ffe000, 4096, PROT_READ)   = 0
munmap(0xb7fdc000, 13796)               = 0
rt_sigaction(SIGCHLD, {0x8048d94, [CHLD], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
rt_sigaction(SIGPIPE, {SIG_IGN, [PIPE], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
open("/opt/protostar/run/net2.pid", O_RDWR|O_CREAT|O_TRUNC, 0700) = 3
setgroups32(1, [997])                   = 0
setresgid32(997, 997, 997)              = 0
setresuid32(997, 997, 997)              = 0
clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1727
exit_group(0)                           = ?
root@protostar:/opt/protostar/bin# strace -f ./net2
execve("./net2", ["./net2"], [/* 15 vars */]) = 0
brk(0)                                  = 0x804b000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
mmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7fe0000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=13796, ...}) = 0
mmap2(NULL, 13796, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7fdc000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
open("/lib/libc.so.6", O_RDONLY)        = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\320m\1\0004\0\0\0"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=1319176, ...}) = 0
mmap2(NULL, 1329480, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb7e97000
mprotect(0xb7fd5000, 4096, PROT_NONE)   = 0
mmap2(0xb7fd6000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x13e) = 0xb7fd6000
mmap2(0xb7fd9000, 10568, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb7fd9000
close(3)                                = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7e96000
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7e966c0, limit:1048575, seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, useable:1}) = 0
mprotect(0xb7fd6000, 8192, PROT_READ)   = 0
mprotect(0xb7ffe000, 4096, PROT_READ)   = 0
munmap(0xb7fdc000, 13796)               = 0
rt_sigaction(SIGCHLD, {0x8048d94, [CHLD], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
rt_sigaction(SIGPIPE, {SIG_IGN, [PIPE], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
open("/opt/protostar/run/net2.pid", O_RDWR|O_CREAT|O_TRUNC, 0700) = 3
setgroups32(1, [997])                   = 0
setresgid32(997, 997, 997)              = 0
setresuid32(997, 997, 997)              = 0
clone(Process 1730 attached
child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1730
[pid  1729] exit_group(0)               = ?
setsid()                                = 1730
chdir("/")                              = 0
open("/dev/null", O_RDWR)               = 4
fstat64(4, {st_mode=S_IFCHR|0666, st_rdev=makedev(1, 3), ...}) = 0
dup2(4, 0)                              = 0
dup2(4, 1)                              = 1
dup2(4, 2)                              = 2
close(4)                                = 0
write(3, "1730\n", 5)                   = 5
close(3)                                = 0
socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 3
setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
bind(3, {sa_family=AF_INET, sin_port=htons(2997), sin_addr=inet_addr("0.0.0.0")}, 16) = -1 EADDRINUSE (Address already in use)
write(2, "serve_forever: unable to bind():"..., 56) = 56
exit_group(6)                           = ?
Process 1730 detached
root@protostar:/opt/protostar/bin# killall net2
root@protostar:/opt/protostar/bin# strace -f ./net2
execve("./net2", ["./net2"], [/* 15 vars */]) = 0
brk(0)                                  = 0x804b000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
mmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7fe0000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=13796, ...}) = 0
mmap2(NULL, 13796, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7fdc000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
open("/lib/libc.so.6", O_RDONLY)        = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\320m\1\0004\0\0\0"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=1319176, ...}) = 0
mmap2(NULL, 1329480, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb7e97000
mprotect(0xb7fd5000, 4096, PROT_NONE)   = 0
mmap2(0xb7fd6000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x13e) = 0xb7fd6000
mmap2(0xb7fd9000, 10568, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb7fd9000
close(3)                                = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7e96000
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7e966c0, limit:1048575, seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, useable:1}) = 0
mprotect(0xb7fd6000, 8192, PROT_READ)   = 0
mprotect(0xb7ffe000, 4096, PROT_READ)   = 0
munmap(0xb7fdc000, 13796)               = 0
rt_sigaction(SIGCHLD, {0x8048d94, [CHLD], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
rt_sigaction(SIGPIPE, {SIG_IGN, [PIPE], SA_RESTART}, {SIG_DFL, [], 0}, 8) = 0
open("/opt/protostar/run/net2.pid", O_RDWR|O_CREAT|O_TRUNC, 0700) = 3
setgroups32(1, [997])                   = 0
setresgid32(997, 997, 997)              = 0
setresuid32(997, 997, 997)              = 0
clone(Process 1734 attached
child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1734
[pid  1733] exit_group(0)               = ?
setsid()                                = 1734
chdir("/")                              = 0
open("/dev/null", O_RDWR)               = 4
fstat64(4, {st_mode=S_IFCHR|0666, st_rdev=makedev(1, 3), ...}) = 0
dup2(4, 0)                              = 0
dup2(4, 1)                              = 1
dup2(4, 2)                              = 2
close(4)                                = 0
write(3, "1734\n", 5)                   = 5
close(3)                                = 0
socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 3
setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
bind(3, {sa_family=AF_INET, sin_port=htons(2997), sin_addr=inet_addr("0.0.0.0")}, 16) = 0
listen(3, 10)                           = 0
accept(3, {sa_family=AF_INET, sin_port=htons(50008), sin_addr=inet_addr("127.0.0.1")}, [16]) = 4
clone(Process 1743 attached
child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1743
[pid  1734] close(4)                    = 0
[pid  1734] accept(3,  <unfinished ...>
[pid  1743] close(3)                    = 0
[pid  1743] dup2(4, 0)                  = 0
[pid  1743] dup2(4, 1)                  = 1
[pid  1743] dup2(4, 2)                  = 2
[pid  1743] time(NULL)                  = 1589216359
[pid  1743] write(0, "O\202\r)", 4)     = 4
[pid  1743] write(0, "\305_\321b", 4)   = 4
[pid  1743] write(0, "\241c\237T", 4)   = 4
[pid  1743] write(0, "t\345\"j", 4)     = 4
[pid  1743] read(0, ")+\241J", 4)       = 4
[pid  1743] write(1, "you added them correctly", 24) = 24
[pid  1743] write(1, "\n", 1)           = 1
[pid  1743] exit_group(25)              = ?
Process 1743 detached
<... accept resumed> 0xbffff7a8, [16])  = ? ERESTARTSYS (To be restarted)
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 25}], 0, NULL) = 1743
sigreturn()                             = ? (mask now [])
accept(3, {sa_family=AF_INET, sin_port=htons(50009), sin_addr=inet_addr("127.0.0.1")}, [16]) = 4
clone(Process 1751 attached
child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1751
[pid  1734] close(4)                    = 0
[pid  1734] accept(3,  <unfinished ...>
[pid  1751] close(3)                    = 0
[pid  1751] dup2(4, 0)                  = 0
[pid  1751] dup2(4, 1)                  = 1
[pid  1751] dup2(4, 2)                  = 2
[pid  1751] time(NULL)                  = 1589216521
[pid  1751] write(0, "w\323\2011", 4)   = 4
[pid  1751] write(0, "?\7\204\31", 4)   = 4
[pid  1751] write(0, "<\263n\31", 4)    = 4
[pid  1751] write(0, "-\3120Y", 4)      = 4
[pid  1751] read(0, "", 4)              = 0
[pid  1751] write(2, "net2: ", 6)       = 6
[pid  1751] write(2, ":<\n", 3)         = -1 EPIPE (Broken pipe)
[pid  1751] --- SIGPIPE (Broken pipe) @ 0 (0) ---
[pid  1751] write(2, "\n", 1)           = -1 EPIPE (Broken pipe)
[pid  1751] --- SIGPIPE (Broken pipe) @ 0 (0) ---
[pid  1751] exit_group(1)               = ?
Process 1751 detached
<... accept resumed> 0xbffff7a8, [16])  = ? ERESTARTSYS (To be restarted)
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 1}], 0, NULL) = 1751
sigreturn()                             = ? (mask now [])
accept(3, {sa_family=AF_INET, sin_port=htons(50010), sin_addr=inet_addr("127.0.0.1")}, [16]) = 4
clone(Process 1755 attached
child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0xb7e96728) = 1755
[pid  1734] close(4)                    = 0
[pid  1734] accept(3,  <unfinished ...>
[pid  1755] close(3)                    = 0
[pid  1755] dup2(4, 0)                  = 0
[pid  1755] dup2(4, 1)                  = 1
[pid  1755] dup2(4, 2)                  = 2
[pid  1755] time(NULL)                  = 1589216564
[pid  1755] write(0, "\347P\325e", 4)   = 4
[pid  1755] write(0, "\232D\236z", 4)   = 4
[pid  1755] write(0, "\252\322\304\32", 4) = 4
[pid  1755] write(0, "\305\205\325z", 4) = 4
[pid  1755] read(0, "\360\355\rv", 4)   = 4
[pid  1755] write(1, "you added them correctly", 24) = 24
[pid  1755] write(1, "\n", 1)           = 1
[pid  1755] exit_group(25)              = ?
Process 1755 detached
<... accept resumed> 0xbffff7a8, [16])  = ? ERESTARTSYS (To be restarted)
--- SIGCHLD (Child exited) @ 0 (0) ---
wait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 25}], 0, NULL) = 1755
sigreturn()                             = ? (mask now [])
accept(3,





Terminal 2 :::

root@protostar:/home/user# netstat -plant
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:56590           0.0.0.0:*               LISTEN      832/rpc.statd   
tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      820/portmap     
tcp        0      0 0.0.0.0:2993            0.0.0.0:*               LISTEN      1380/final2     
tcp        0      0 0.0.0.0:2994            0.0.0.0:*               LISTEN      1378/final1     
tcp        0      0 0.0.0.0:2995            0.0.0.0:*               LISTEN      1376/final0     
tcp        0      0 0.0.0.0:2996            0.0.0.0:*               LISTEN      1374/net3       
tcp        0      0 0.0.0.0:2997            0.0.0.0:*               LISTEN      1372/net2       
tcp        0      0 0.0.0.0:2998            0.0.0.0:*               LISTEN      1635/net1       
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1450/sshd       
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1349/exim4      
tcp        0      0 192.168.56.102:22       192.168.56.1:44518      ESTABLISHED 1466/sshd: user [pr
tcp        0      0 192.168.56.102:22       192.168.56.1:44520      ESTABLISHED 1553/sshd: user [pr
tcp6       0      0 :::22                   :::*                    LISTEN      1450/sshd       
tcp6       0      0 ::1:25                  :::*                    LISTEN      1349/exim4      
root@protostar:/home/user# nc 127.0.0.1 2998
��Owdsd
you didn't send the data properly                                                                
root@protostar:/home/user# nc 127.0.0.1 2998                                                     
�!�}                                                                                             
you didn't send the data properly                                                                
root@protostar:/home/user#                                                                       
root@protostar:/home/user#                                                                       
root@protostar:/home/user# cd /tmp                                                               
root@protostar:/tmp# 
root@protostar:/tmp# 
root@protostar:/tmp# 
root@protostar:/tmp# 
root@protostar:/tmp# vi net1.py
root@protostar:/tmp# vi net1.py
root@protostar:/tmp# cat net1.py 
import socket

s= socket.socket(socket.AF_INET, socket.SOCK_STREAM)
HOST = "127.0.0.1"
PORT = 2998
s.connect((HOST, PORT))
n = s.recv(4)
print n 
print repr(n)
print n.encode('hex')
root@protostar:/tmp# nc 127.0.0.1 2998
�7R
you didn't send the data properly
root@protostar:/tmp# python net1.py 
x/8o
'x/8o'
782f386f
root@protostar:/tmp# python net1.py 
��9
'\x87\xf0\x059'
87f00539
root@protostar:/tmp# python net1.py 
���T
'\x91\x9c\xaeT'
919cae54
root@protostar:/tmp# python net1.py 
�R�p
'\x9fR\xa2p'
9f52a270
root@protostar:/tmp# vi net1.py
root@protostar:/tmp# python net1.py 
Traceback (most recent call last):
  File "net1.py", line 2, in <module>
    import stuct
ImportError: No module named stuct
root@protostar:/tmp# vi net1.py
root@protostar:/tmp# python net1.py 
zN�>
'zN\xd2>'
7a4ed23e
1053970042
root@protostar:/tmp# python net1.py 
���\
'\xfd\x8b\xb2\\'
fd8bb25c
1555205117
root@protostar:/tmp# python net1.py 
��J
'\xc1\x01\xbeJ'
c101be4a
1253966273
root@protostar:/tmp# python net1.py 
V��8
'V\xa5\x988'
56a59838
949527894
root@protostar:/tmp# python net1.py 
���&
'\x8d\xa6\x85&'
8da68526
646293133
root@protostar:/tmp# python net1.py 
���&
'\x8d\xa6\x85&'
8da68526
646293133
root@protostar:/tmp# python net1.py 
T�T
'T\xa4\x17T'
54a41754
1410835540
root@protostar:/tmp# python net1.py 
>7WB
'>7WB'
3e375742
1113012030
root@protostar:/tmp# vi net1.py
root@protostar:/tmp# python net1.py 
Zc�
'Zc\xb9\x08'
5a63b908
146367322


^CTraceback (most recent call last):
  File "net1.py", line 15, in <module>
    print s.recv(1024)
KeyboardInterrupt
root@protostar:/tmp# python net1.py 
��h

'\xb5\xf3h\n'
b5f3680a
174650293


^CTraceback (most recent call last):
  File "net1.py", line 15, in <module>
    print s.recv(1024)
KeyboardInterrupt
root@protostar:/tmp# python net1.py 
���
'\x87\xa3\xf5\x13'
87a3f513
334865287

^CTraceback (most recent call last):
  File "net1.py", line 15, in <module>
    print s.recv(1024)
KeyboardInterrupt
root@protostar:/tmp# python net1.py 
:|�o
':|\xc9o'
3a7cc96f
1875475514
you correctly sent the data
root@protostar:/tmp# some time it hang it bcz the it want to read data it is slower than the input or nc
bash: some: command not found
root@protostar:/tmp# 
root@protostar:/tmp# 
root@protostar:/tmp# clear
root@protostar:/tmp# vi net2.py
root@protostar:/tmp# python net2.py 
)�_�b�c�Tt�"j
'O\x82\r)\xc5_\xd1b\xa1c\x9fTt\xe5"j'
4f820d29c55fd162a1639f5474e5226a
(688751183, 1657888709, 1419731873, 1780671860)
5547043625
net2.py:19: DeprecationWarning: struct integer overflow masking is deprecated
  s.send(struct.pack("I",sN))
you added them correctly
root@protostar:/tmp# vi net2.py
root@protostar:/tmp# python net2.py 
wӁ1?�<�n-�0Y
'w\xd3\x811?\x07\x84\x19<\xb3n\x19-\xca0Y'
77d381313f0784193cb36e192dca3059
(830591863, 428083007, 426685244, 1496369709)
3181729823
Traceback (most recent call last):
  File "net2.py", line 19, in <module>
    s.send(struct.pack("I",sN & ffffffff))
NameError: name 'ffffffff' is not defined
root@protostar:/tmp# vi net2.py
root@protostar:/tmp# python net2.py 
�P�e�D�z���▒Ņ�z
'\xe7P\xd5e\x9aD\x9ez\xaa\xd2\xc4\x1a\xc5\x85\xd5z'
e750d5659a449e7aaad2c41ac585d57a
(1708478695, 2057192602, 449106602, 2060813765)
6275591664
you added them correctl
